<Page
    x:Class="RedmineClient.Views.Pages.ComboBoxTestPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:RedmineClient.Views.Pages"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
    Title="ComboBoxTestPage"
    d:DataContext="{d:DesignInstance local:ComboBoxTestPage,
                                     IsDesignTimeCreatable=False}"
    d:DesignHeight="450"
    d:DesignWidth="800"
    ui:Design.Background="{DynamicResource ApplicationBackgroundBrush}"
    ui:Design.Foreground="{DynamicResource TextFillColorPrimaryBrush}"
    Foreground="{DynamicResource TextFillColorPrimaryBrush}"
    mc:Ignorable="d">

    <StackPanel Margin="20">
        <ui:TextBlock FontSize="24" FontWeight="Bold" Text="コンボボックス バインドテスト" />
        
        <ui:TextBlock Margin="0,20,0,10" FontSize="16" Text="現在選択されているアイテム:" />
        <ui:TextBlock Margin="0,0,0,20" FontSize="14" 
                     Text="{Binding ViewModel.SelectedItem.Name, StringFormat='名前: {0}'}" />
        <ui:TextBlock Margin="0,0,0,20" FontSize="14" 
                     Text="{Binding ViewModel.SelectedItem.Id, StringFormat='ID: {0}'}" />
        
        <ui:TextBlock Margin="0,20,0,10" FontSize="16" Text="アイテムを選択してください:" />
        <ComboBox Margin="0,10,0,20"
                  DisplayMemberPath="Name"
                  ItemsSource="{Binding ViewModel.AvailableItems}"
                  SelectedItem="{Binding ViewModel.SelectedItem, Mode=TwoWay}"
                  SelectionChanged="ComboBox_SelectionChanged" />
        
        <ui:TextBlock Margin="0,20,0,10" FontSize="16" Text="利用可能なアイテム:" />
        <ListBox Margin="0,10,0,0"
                 ItemsSource="{Binding ViewModel.AvailableItems}"
                 DisplayMemberPath="Name" />
    </StackPanel>
</Page>
